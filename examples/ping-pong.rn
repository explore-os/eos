pub fn handle(state, msg) {
    state.count += 1;
    let sender = msg["sender"];
    let response = msg["payload"];

    response["state"] = match response["state"] {
        "ping" => "pong",
        _ => "ping",
    };
    send(sender, response);
    return state;
}

pub fn init() {
    return #{count: 0};
}
