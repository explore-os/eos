pub fn handle(state, msg) {
    let sender = msg["sender"];
    let response = msg["payload"];

    response["state"] = match response["state"] {
        "ping" => "pong",
        _ => "ping",
    };
    send(sender, response);
    return state;
}